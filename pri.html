<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Just One Question ðŸ’™</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  font-family: "Poppins", sans-serif;
  background: radial-gradient(circle at top, #0c2338, #020b14);
  overflow: hidden;
  color: #eaf6ff;
}

/* Background photo â€“ normal, uncropped */
.bg-photo {
  position: fixed;
  inset: 0;
  background: url("us.jpg") center center / contain no-repeat;
  background-color: #020b14;
  filter: blur(10px) brightness(0.5);
  z-index: 0;
}

/* Canvas for stars & constellations */
canvas {
  position: fixed;
  inset: 0;
  z-index: 1;
}

/* Card */
.card {
  position: relative;
  z-index: 3;
  max-width: 420px;
  margin: auto;
  top: 50%;
  transform: translateY(-50%);
  padding: 36px 26px;
  background: rgba(8, 22, 34, 0.75);
  border-radius: 22px;
  text-align: center;
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
}

h1 {
  font-size: 22px;
  font-weight: 500;
  line-height: 1.4;
  margin-bottom: 28px;
}

.buttons {
  position: relative;
  height: 80px;
}

button {
  padding: 12px 28px;
  border-radius: 30px;
  border: none;
  font-size: 15px;
  cursor: pointer;
  transition: all 0.3s ease;
}

#yes {
  background: #78cfff;
  color: #001a2c;
  box-shadow: 0 0 25px rgba(120, 207, 255, 0.6);
}

#yes:disabled {
  opacity: 0.6;
  cursor: default;
}

#no {
  background: transparent;
  color: #a6cbe5;
  border: 1px solid rgba(166, 203, 229, 0.4);
  position: absolute;
  right: 0;
  top: 0;
}

.vanish {
  animation: vanish 1.2s forwards;
}

@keyframes vanish {
  0% { opacity: 1; transform: scale(1); }
  70% { opacity: 0.3; transform: scale(1.3); }
  100% { opacity: 0; transform: scale(0); }
}

.message {
  margin-top: 24px;
  font-size: 18px;
  line-height: 1.6;
  opacity: 0;
  animation: fadeIn 2s forwards;
}

@keyframes fadeIn {
  to { opacity: 1; }
}
</style>
</head>
<body>

<div class="bg-photo"></div>
<canvas id="sky"></canvas>

<div class="card">
  <h1>
    Pri,<br>
    would you like to be my Valentine?
  </h1>

  <div class="buttons">
    <button id="yes">Yes ðŸ’™</button>
    <button id="no">No</button>
  </div>

  <div id="result"></div>
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/10/30/audio_946baf73c2.mp3" type="audio/mpeg">
</audio>

<script>
/* ---------- CANVAS STARS ---------- */
const canvas = document.getElementById("sky");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let stars = [];
const STAR_COUNT = 120;
let mouse = { x: null, y: null };

for (let i = 0; i < STAR_COUNT; i++) {
  stars.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 1.5 + 0.5,
    vx: 0,
    vy: 0
  });
}

function drawStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
    ctx.fillStyle = "#cfefff";
    ctx.fill();
  });
}

function updateStars() {
  stars.forEach(s => {
    if (mouse.x) {
      const dx = s.x - mouse.x;
      const dy = s.y - mouse.y;
      const dist = Math.sqrt(dx * dx + dy * dy);
      if (dist < 120) {
        s.vx += dx / dist;
        s.vy += dy / dist;
      }
    }
    s.x += s.vx * 0.05;
    s.y += s.vy * 0.05;
    s.vx *= 0.9;
    s.vy *= 0.9;
  });
}

function animate() {
  drawStars();
  updateStars();
  requestAnimationFrame(animate);
}

animate();

/* Touch + mouse */
window.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

window.addEventListener("touchmove", e => {
  mouse.x = e.touches[0].clientX;
  mouse.y = e.touches[0].clientY;
});

/* ---------- INTERACTION ---------- */
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const result = document.getElementById("result");
const music = document.getElementById("music");

let decided = false;

/* NO disappears poetically */
noBtn.addEventListener("mouseenter", () => {
  if (decided) return;
  decided = true;
  noBtn.classList.add("vanish");

  setTimeout(() => {
    noBtn.remove();
    result.innerHTML = "<div class='message'>Some choices donâ€™t exist âœ¨</div>";
  }, 1200);
});

/* YES â†’ constellation */
yesBtn.addEventListener("click", () => {
  yesBtn.disabled = true;
  noBtn?.remove();
  music.play();

  result.innerHTML = `
    <div class="message">
      My wish is to have you as my<br>
      <strong>Valentine forever.</strong> ðŸ©µ
    </div>
  `;

  drawConstellation();
});

function drawConstellation() {
  let points = stars.slice(0, 12);

  let step = 0;
  const interval = setInterval(() => {
    if (step >= points.length - 1) {
      clearInterval(interval);
      return;
    }
    ctx.beginPath();
    ctx.moveTo(points[step].x, points[step].y);
    ctx.lineTo(points[step + 1].x, points[step + 1].y);
    ctx.strokeStyle = "rgba(120,207,255,0.8)";
    ctx.lineWidth = 1;
    ctx.stroke();
    step++;
  }, 300);
}

/* Resize */
window.addEventListener("resize", () => {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
});
</script>

</body>
</html>